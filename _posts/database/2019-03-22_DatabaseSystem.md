---
layout: post
title:  "데이터베이스 개론 - 데이터베이스 시스템"
date:   2019-03-22 10:00:00 +0900
author: leeyh0216
categories: database
---

# 데이터베이스 시스템

## 데이터베이스 시스템의 정의

* 데이터베이스: 데이터를 저장해두는 곳 혹은 데이터의 집합

* 데이터베이스 관리 시스템: 데이터베이스에 저장되어 있는 데이터가 일관되고 무결한 상태로 유지되도록 관리하는 역할을 수행

* 데이터베이스 시스템: 데이터와 데이터베이스 관리 시스템을 이용해 조직에 필요한 정보를 제공해주는 전체 시스템

## 데이터베이스의 구조

### 스키마

스키마는 데이터베이스에 저장되는 데이터 구조와 제약조건을 정의한 것이다.

| 고객 번호 | 고객 이름 | 전화번호 |
|----------|----------|----------|
|   INT     | CHAR(10) | CHAR(20) |


고객 정보를 예로 들자면 고객 정보는

* 고객 번호: 고객에게 임의로 부여되는 정수형 값

* 고객 이름: 고객의 이름(최대 10글자)

* 전화번호: 고객 전화번호(최대 20글자)

와 같이 정의할 수 있다.

정의된 스키마에 따라 실제로 저장된 값을 인스턴스라고 한다. 스키마는 자주 변하지 않지만, 인스턴스는 계속 변하는 특성이 있다.

### 3단계 데이터베이스 구조

사용자가 데이터베이스를 사용할 때 데이터베이스의 내부 구조까지 알 필요가 없다. 그렇기 때문에 데이터베이스의 구조는 3단계로 이루어져 있으며, 윗 단계로 갈 수록 추상화 되어 있다.

#### 내부 단계(Internal Level, 내부 스키마)

물리적인 저장 장치의 관점에서 데이터베이스를 바라보는 것이다.

내부 스키마는 데이터베이스에 저장되는 레코드의 구조, 레코드의 필드 크기, 인덱스를 통한 레코드 접근 경로 등을 정의한다.

즉, 실제로 데이터베이스에 저장되는 데이터들이 어떻게 저장되는지를 표현하는 단계이다.

#### 개념 단계(Conceptual Level, 개념 스키마)

데이터베이스를 조직 전체의 관점에서 이해하고 표현한다.

쇼핑몰의 데이터베이스를 예로 들자면,

* 고객 정보
* 배송 정보
* 물건 정보

등의 데이터들이 저장될 것이고, 이 정보들 간에 어떤 관계와 제약조건이 존재하는지에 정의한다.

#### 외부 단계(External Level, 외부 스키마)

개별 사용자 관점에서 데이터베이스를 이해하고 표현한다.

고객 관리 팀은 쇼핑몰의 데이터베이스에서 고객 정보와 배송 정보에만 관심이 있고, 물품 관리팀은 물건 정보와 배송 정보 등에만 관심이 있을 것이다.

데이터베이스에는 개념 스키마가 하나만 존재하고, 각 사용자는 개념 스키마의 일부분(서브 스키마라고도 한다)만을 사용하게 된다.

### 데이터 독립성

위의 세가지 스키마는 유기적으로 동작하여 하나의 데이터베이스를 구성한다.

예를 들어 사용자가 개념 스키마를 통해 데이터를 조회하려 해도, 결과적으로는 개념 스키마, 내부 스키마를 통해 데이터에 접근하기 때문에 각 단계들 사이에 연결 관계가 성립되어 있어야 한다.

이러한 연결 관계를 사상 혹은 매핑(Mapping)이라고 한다. 위의 세 스키마들을 매핑으로 연결해놓은 이유는 데이터 독립성을 보장하기 위해서이다. 

예를 들어 내부 스키마에서 정수형을 표현하는 데이터의 크기를 4byte -> 8byte로 늘렸다 하더라도, 내부 스키마 <-> 개념 스키마 사이에 정의된 정수형에 대한 사상 정보만을 변경하면 내부 스키마의 변경으로 인해 개념, 외부 스키마를 변경하지 않아도 된다.

만일 이러한 사상이 없고 직접적으로 각 단계들이 엮여 있는 구조였다면, 내부 스키마의 변경이 발생할 때마다 개념, 외부 스키마 또한 변경되어야 했을 것이다.

### 시스템 카탈로그

데이터베이스는 사용자의 정보 뿐만 아니라 위와 같은 스키마, 매핑 정보, 제약 조건 등 시스템이나 데이터베이스 자체의 운영에 필요한 정보 또한 관리해야 한다.

이러한 정보를 저장하는 곳을 시스템 카탈로그라고 하며, 시스템 카탈로그에 저장되는 데이터는 데이터를 위한 데이터, 즉 메타 데이터라고 표현한다.

## 데이터 언어

데이터 언어는 사용자가 데이터베이스를 구축하고 접근하기 위해 데이터베이스 관리 시스템과 통신하기 위한 수단이다.

데이터 언어는 데이터베이스 시스템의 정의, 조작, 제어를 위해 사용되며 목적에 따라 각각 데이터 정의어, 데이터 조작어, 데이터 제어어로 나뉜다.

### 데이터 정의어(DDL)

데이터 정의어는 새로운 데이터베이스를 구축하기 위해 스키마를 정의하거나, 기존 스키마의 정의를 삭제 혹은 수정하기 위해 사용하는 데이터 언어이다.

데이터 정의어를 통해 변경되는 내용들은 모두 시스템 카탈로그에 저장되게 된다.

### 데이터 조작어(DML)

데이터 조작어는 사용자가 데이터의 삽입/삭제/수정/검색 등의 처리를 위해 사용하는 데이터 언어이다.

데이터 조작어를 통해 데이터베이스에 실제로 저장되는 데이터들을 생산/관리할 수 있다.

